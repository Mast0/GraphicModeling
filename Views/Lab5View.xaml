<UserControl x:Class="GraphicModelling.Views.Lab5View"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:GraphicModelling.Views"
             xmlns:converters="clr-namespace:GraphicModelling.Converters"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">

    <UserControl.Resources>
        <converters:EnumToBoolConverter x:Key="EnumToBoolConverter"/>
    </UserControl.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="3*"/>
            <ColumnDefinition Width="1.2*"/>
        </Grid.ColumnDefinitions>

        <Border Grid.Column="0" BorderBrush="Gray" BorderThickness="1" Margin="5">
            <Canvas x:Name="ViewCanvas" Background="White" ClipToBounds="True">
                <ItemsControl ItemsSource="{Binding ProjectedSegments}">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <Canvas/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Line X1="{Binding StartPoint.X}" Y1="{Binding StartPoint.Y}"
                                  X2="{Binding EndPoint.X}" Y2="{Binding EndPoint.Y}"
                                  Stroke="Black" StrokeThickness="1"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>

                <TextBlock Text="X axis: Right, Y axis: Up" Canvas.Right="10" Canvas.Top="10" Foreground="Gray"/>
            </Canvas>
        </Border>

        <ScrollViewer Grid.Column="1" Margin="5">
            <StackPanel>
                <GroupBox Header="Параметри фігури">
                    <StackPanel>
                        <TextBlock Text="Радіус:"/>
                        <Slider Minimum="10" Maximum="100" Value="{Binding PrismRadius}"/>
                        <TextBlock Text="Висота:"/>
                        <Slider Minimum="10" Maximum="300" Value="{Binding PrismHeight}"/>
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="Трансформації (Світ)">
                    <StackPanel>
                        <TextBlock Text="Position X/Y/Z:"/>
                        <Slider Minimum="-200" Maximum="200" Value="{Binding TransX}"/>
                        <Slider Minimum="-200" Maximum="200" Value="{Binding TransY}"/>
                        <Slider Minimum="-200" Maximum="200" Value="{Binding TransZ}"/>

                        <TextBlock Text="Rotation X/Y/Z:" Margin="0,10,0,0"/>
                        <Slider Minimum="0" Maximum="360" Value="{Binding RotX}"/>
                        <Slider Minimum="0" Maximum="360" Value="{Binding RotY}"/>
                        <Slider Minimum="0" Maximum="360" Value="{Binding RotZ}"/>
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="Проекція (Варіант 16)">
                    <StackPanel>
                        <TextBlock Text="Площина проекції:"/>
                        <StackPanel Orientation="Horizontal" Margin="0,5">
                            <RadioButton Content="Z=p" IsChecked="{Binding SelectedPlane, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Z}" Margin="5"/>
                            <RadioButton Content="Y=p" IsChecked="{Binding SelectedPlane, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Y}" Margin="5"/>
                            <RadioButton Content="X=p" IsChecked="{Binding SelectedPlane, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=X}" Margin="5"/>
                        </StackPanel>

                        <!--<TextBlock Text="Значення P:"/>
                        <Slider Minimum="-200" Maximum="200" Value="{Binding ProjectionP}"/>
                        <TextBlock Text="{Binding ProjectionP, StringFormat=N0}" HorizontalAlignment="Center"/>-->
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="Анімація">
                    <Button Content="{Binding AnimationBtnText}" Command="{Binding ToggleAnimationCommand}" Height="30"/>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>
