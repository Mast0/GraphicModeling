<UserControl x:Class="GraphicModelling.Views.Lab6View"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:GraphicModelling.Views"
             xmlns:converters="clr-namespace:GraphicModelling.Converters"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    
    <UserControl.Resources>
        <converters:EnumToBoolConverter x:Key="EnumToBoolConverter"/>
    </UserControl.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="3*"/>
            <ColumnDefinition Width="1.3*"/>
        </Grid.ColumnDefinitions>

        <Border Grid.Column="0" BorderBrush="Gray" BorderThickness="1" Margin="5">
            <Canvas x:Name="ViewCanvas" Background="White" ClipToBounds="True">
                <ItemsControl ItemsSource="{Binding ProjectedSegments}">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <Canvas/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Line X1="{Binding StartPoint.X}" Y1="{Binding StartPoint.Y}"
                              X2="{Binding EndPoint.X}" Y2="{Binding EndPoint.Y}"
                              Stroke="{Binding Color}" 
                              StrokeThickness="1"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
                <TextBlock Text="Варіант 16: Параболоїд обертання" Canvas.Left="10" Canvas.Top="10" FontWeight="Bold"/>
            </Canvas>
        </Border>

        <ScrollViewer Grid.Column="1" Margin="5">
            <StackPanel>
                <GroupBox Header="Параметри поверхні">
                    <StackPanel>
                        <TextBlock Text="Коефіцієнт C (відкритість):"/>
                        <Slider Minimum="0.01" Maximum="0.2" Value="{Binding ParamC}" TickFrequency="0.01"/>
                        <TextBlock Text="{Binding ParamC, StringFormat=F3}" HorizontalAlignment="Right"/>

                        <TextBlock Text="Макс. радіус (U):"/>
                        <Slider Minimum="10" Maximum="100" Value="{Binding MaxRadius}"/>
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="Контур (Пташка) на поверхні">
                    <StackPanel>
                        <TextBlock Text="Масштаб контуру:"/>
                        <Slider Minimum="0.1" Maximum="2.0" Value="{Binding ContourScale}" TickFrequency="0.1"/>

                        <TextBlock Text="Зсув U (по колу):"/>
                        <Slider Minimum="-200" Maximum="200" Value="{Binding ContourOffsetX}"/>

                        <TextBlock Text="Зсув V (по висоті):"/>
                        <Slider Minimum="-100" Maximum="300" Value="{Binding ContourOffsetY}"/>

                        <TextBlock Text="Обертання контуру:"/>
                        <Slider Minimum="0" Maximum="360" Value="{Binding ContourRotation}"/>
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="Трансформації Поверхні (Світ)">
                    <StackPanel>
                        <TextBlock Text="Rotation X/Y/Z:"/>
                        <Slider Minimum="0" Maximum="360" Value="{Binding RotX}"/>
                        <Slider Minimum="0" Maximum="360" Value="{Binding RotY}"/>
                        <Slider Minimum="0" Maximum="360" Value="{Binding RotZ}"/>

                        <TextBlock Text="Position Z:"/>
                        <Slider Minimum="-200" Maximum="200" Value="{Binding TransZ}"/>
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="Проекція (Варіант 16)">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,5">
                            <RadioButton Content="Z=p" IsChecked="{Binding SelectedPlane, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Z}" Margin="5"/>
                            <RadioButton Content="Y=p" IsChecked="{Binding SelectedPlane, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Y}" Margin="5"/>
                            <RadioButton Content="X=p" IsChecked="{Binding SelectedPlane, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=X}" Margin="5"/>
                        </StackPanel>
                    </StackPanel>
                </GroupBox>

                <GroupBox Header="Анімація (Зміна C)">
                    <Button Content="{Binding AnimationBtnText}" Command="{Binding ToggleAnimationCommand}" Height="30"/>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>
